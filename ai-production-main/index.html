<!DOCTYPE html>
<html lang="fr-FR" dir="ltr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  
  <!-- Theme Color: Dark Bordeaux -->
  <meta name="theme-color" content="#560319">
  <meta name="google-site-verification" content="krDn75cPGx0IJNaucE1LDgsj88mJ5NhBcCVAkW5P1Ds" />

  <title>A&I Production - Photographie & Cin√©matographie au Maroc</title>
  <meta name="description" content="Studio professionnel A&I Production. Immortalisez vos moments (Mariages, Portraits, Corporate, √âv√©nements) avec une touche cin√©matographique.">

  <!-- Fonts & Icons -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="dns-prefetch" href="https://images.unsplash.com">
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700;900&family=Montserrat:wght@400;500;700;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <style>
    :root {
      /* Brand Colors - Bordeaux & Soft White Theme */
      --varia-gold: #560319;   /* Main: Dark Bordeaux */
      --varia-orange: #8B233D; /* CTA Buttons: Light Bordeaux */
      --varia-green: #560319;  /* Icons */
      --varia-blue: #560319;   /* Accents */
      --varia-white: #FDFBF9;  /* Bg: Soft White */
      --varia-dark: #1a1a1a;   /* Text */

      /* Mapping Variables to System */
      --theme-color: var(--varia-gold);
      --bg: var(--varia-white);
      --surface: #ffffff;
      --text: var(--varia-dark);
      --muted: #666666;
      --stroke: #EAEAEA;
      --radius: 14px;
      --nav-height: 70px;
    }

    * { box-sizing: border-box; outline: none; -webkit-tap-highlight-color: transparent; }

    html, body {
      overflow-x: hidden;
      scroll-behavior: smooth;
      width: 100%;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: "Montserrat", sans-serif;
      background-color: var(--bg);
      color: var(--text);
      padding-bottom: 80px;
      min-height: 100vh;
    }

    a { color: inherit; text-decoration: none; transition: 0.3s; }
    button { cursor: pointer; font-family: inherit; }
    .container { width: 100%; max-width: 1200px; margin: 0 auto; padding: 0 15px; }

    /* --- Page Visibility --- */
    .page { display: none !important; opacity: 0; transition: opacity 0.3s ease; }
    .page.active { display: block !important; opacity: 1; animation: fadeIn 0.4s ease-out; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

    /* --- Header --- */
    .announcement-bar {
        background-color: var(--varia-dark); color: #fff; text-align: center;
        padding: 10px; font-size: 11px; font-weight: 500;
        position: relative; z-index: 101; letter-spacing: 1px; text-transform: uppercase;
    }

    header {
      position: sticky; top: 0; z-index: 100;
      background: rgba(253, 251, 249, 0.95);
      backdrop-filter: blur(12px);
      border-bottom: 1px solid var(--stroke);
      height: var(--nav-height);
      box-shadow: 0 4px 20px rgba(0,0,0,0.03);
      display: flex; 
      align-items: center;
    }
    
    .header-inner { 
      height: 100%; width: 100%;
      display: flex; align-items: center; 
      justify-content: flex-end; position: relative; 
    }
    
    /* Brand Centered Absolutely */
    .brand { 
      position: absolute; 
      left: 50%; top: 50%; transform: translate(-50%, -50%);
      display: flex; flex-direction: column; align-items: center; 
      text-decoration: none; z-index: 10; white-space: nowrap;
    }
    .brand h1 { 
        margin: 0; font-size: 34px; font-weight: 900; 
        color: var(--varia-gold); 
        line-height: 1; font-family: 'Cinzel', serif; letter-spacing: 2px; 
    }
    .brand span { 
        display: block; margin-top: 4px; font-size: 10px !important; 
        font-weight: 700; color: var(--varia-gold); letter-spacing: 3px; 
        text-transform: uppercase; font-family: 'Montserrat', sans-serif; 
    }
    
    .header-contact-icons { display: flex; gap: 15px; align-items: center; }
    .header-contact-icons a { font-size: 20px; color: var(--muted); padding: 8px; }
    .header-contact-icons a:hover { color: var(--varia-gold); }

    /* --- Menu --- */
    .section-menu-wrapper {
      background: var(--surface); padding: 12px 0; border-bottom: 1px solid var(--stroke);
      position: sticky; top: var(--nav-height); z-index: 90;
      overflow-x: auto; white-space: nowrap; margin-bottom: 20px;
    }
    .section-menu { 
        display: flex; gap: 10px; padding: 0 15px;
        justify-content: center; min-width: 100%; width: max-content; margin: 0 auto;
    } 
    .menu-item {
      padding: 8px 20px; border-radius: 99px; font-weight: 600; font-size: 13px;
      background: var(--bg); border: 1px solid var(--stroke); color: var(--muted);
      transition: 0.3s all; display: flex; align-items: center; gap: 8px; cursor: pointer;
      text-transform: uppercase; letter-spacing: 0.5px;
    }
    .menu-item.active { 
        background: var(--varia-gold) !important; color: #fff !important; 
        border-color: var(--varia-gold) !important; 
    }

    /* --- Hero Slider --- */
    .hero-slider-container {
      position: relative; width: 100%; height: 550px;
      overflow: hidden; margin-bottom: 35px; background: #000;
      border-radius: 0; box-shadow: 0 10px 40px rgba(0,0,0,0.15);
    }
    .hero-slide {
      position: absolute; inset: 0; opacity: 0; transition: opacity 1.5s ease;
      background-size: cover; background-position: center; display: flex; align-items: flex-end;
    }
    .hero-slide.active { opacity: 1; z-index: 1; animation: zoomMove 12s linear infinite alternate; }
    @keyframes zoomMove { 0% { transform: scale(1); } 100% { transform: scale(1.1); } }
    .hero-slide::before { content: ''; position: absolute; inset: 0; background: linear-gradient(to top, rgba(0,0,0,0.85), rgba(0,0,0,0.2) 50%, rgba(0,0,0,0.4)); z-index: 2; }
    
    .slide-content { 
        position: absolute; bottom: 60px; left: 50px;
        z-index: 10; 
        color: #fff; /* White Text */
        text-align: left; max-width: 600px;
        transform: translateY(30px); opacity: 0; transition: all 0.8s cubic-bezier(0.2, 0.8, 0.2, 1);
    }
    .hero-slide.active .slide-content { transform: translateY(0); opacity: 1; transition-delay: 0.5s; }
    
    /* Updated Slider Colors: White Text + Bordeaux Shadow */
    .slide-title { 
        font-size: 38px; font-weight: 800; margin-bottom: 10px; 
        color: #fff; /* White */
        text-shadow: 0 5px 25px var(--varia-gold); /* Bordeaux Shadow */
        line-height: 1.2; text-transform: uppercase; 
    }
    .slide-desc { 
        font-size: 16px; font-weight: 500; 
        color: #fff; /* White */
        text-shadow: 0 2px 10px var(--varia-gold); /* Bordeaux Shadow */
    }

    .hero-overlay-text { position: absolute; top: 45%; left: 50%; transform: translate(-50%, -50%); z-index: 5; text-align: center; width: 100%; pointer-events: none; }
    
    /* Slogan Colors: White Text + Strong Bordeaux Shadow */
    .main-slogan { 
        font-family: 'Cinzel', serif; font-size: 46px; font-weight: 900; 
        color: #fff; /* White */
        text-transform: uppercase; line-height: 1.2; 
        text-shadow: 0 5px 30px var(--varia-gold); /* Bordeaux Shadow */
        letter-spacing: 4px; 
    }
    #slogan-sub { 
        font-family: 'Montserrat', sans-serif; font-size: 16px; font-weight: 600; 
        margin-top: 12px; letter-spacing: 6px; text-transform: uppercase; 
        color: #fff; /* White */
        text-shadow: 0 2px 15px var(--varia-gold); /* Bordeaux Shadow */
    }

    .slider-indicators { position: absolute; bottom: 25px; left: 50%; transform: translateX(-50%); display: flex; gap: 10px; z-index: 20; }
    .indicator-dot { width: 10px; height: 10px; background: rgba(255,255,255,0.4); border-radius: 50%; cursor: pointer; }
    .indicator-dot.active { background: #fff; width: 30px; border-radius: 5px; }

    /* --- Services/Products --- */
    .section-title { font-size: 26px; font-weight: 700; margin-bottom: 30px; color: var(--varia-gold); display: flex; align-items: center; gap: 15px; font-family: 'Cinzel', serif; text-transform: uppercase; }
    .section-title::after { content: ''; flex: 1; height: 1px; background: var(--varia-gold); opacity: 0.4; }

    .products-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 30px; }
    .product-card {
      background: var(--surface); border: 1px solid rgba(0,0,0,0.05); border-radius: var(--radius);
      overflow: hidden; display: flex; flex-direction: column; transition: 0.4s; cursor: pointer; position: relative;
    }
    .product-card:hover { transform: translateY(-8px); box-shadow: 0 20px 40px rgba(86, 3, 25, 0.1); border-color: var(--varia-gold); }
    .p-img-box { position: relative; aspect-ratio: 4/5; background: #eee; overflow: hidden; } 
    .p-img { width: 100%; height: 100%; object-fit: cover; transition: 0.5s; }
    .product-card:hover .p-img { transform: scale(1.05); }
    
    .p-badge { position: absolute; top: 15px; right: 15px; background: rgba(86, 3, 25, 0.9); backdrop-filter: blur(5px); color: #fff; border: none; font-weight: 700; font-size: 10px; padding: 6px 14px; border-radius: 4px; letter-spacing: 1px; text-transform: uppercase; }
    
    .p-details { padding: 25px; flex: 1; display: flex; flex-direction: column; text-align: center; }
    .p-cat { font-size: 10px; color: var(--muted); font-weight: 700; text-transform: uppercase; margin-bottom: 8px; letter-spacing: 1px; }
    .p-title { font-size: 16px; font-weight: 700; margin: 0 0 10px; color: var(--text); font-family: 'Montserrat', sans-serif; text-transform: uppercase; }
    .p-price { font-size: 18px; font-weight: 800; color: var(--varia-gold); margin-bottom: 15px; }
    .btn-add { width: 100%; background: var(--varia-orange); color: #fff; padding: 12px; border-radius: 4px; margin-top: auto; font-weight: 600; border: none; transition: 0.3s; text-transform: uppercase; font-size: 12px; letter-spacing: 1px; }
    .btn-add:hover { background: #6b1b30; color: #fff; box-shadow: 0 5px 15px rgba(139, 35, 61, 0.3); }

    /* --- Features & Reviews --- */
    .features-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; }
    .feature-card { text-align: center; padding: 25px; background: #fff; border-radius: 16px; border: 1px solid rgba(0,0,0,0.05); cursor: pointer; }
    .feature-card .icon-box { font-size: 28px; color: var(--varia-green); margin-bottom: 15px; }
    .feature-card h3 { margin: 0 0 8px; font-size: 14px; font-weight: 700; text-transform: uppercase; }
    .feature-card p { font-size: 13px; color: #777; line-height: 1.5; }
    
    .reviews-section { padding: 80px 0; background: #f9f9f9; border-top: 1px solid var(--stroke); }
    .reviews-slider-container { width: 100%; overflow-x: auto; padding: 20px 5px; scrollbar-width: none; }
    .reviews-track { display: flex; gap: 20px; width: max-content; }
    .review-card { background: #fff; padding: 30px; border-radius: 4px; border: none; min-width: 320px; display: flex; flex-direction: column; box-shadow: 0 5px 20px rgba(0,0,0,0.03); border-left: 3px solid var(--varia-gold); }
    .review-header { display: flex; align-items: center; gap: 15px; margin-bottom: 15px; }
    .user-avatar { width: 50px; height: 50px; border-radius: 50%; object-fit: cover; filter: grayscale(100%); transition: 0.3s; }
    .review-card:hover .user-avatar { filter: grayscale(0%); }
    .review-body { font-style: italic; color: #555; font-size: 14px; line-height: 1.8; margin-bottom: 15px; }
    .stars { color: #C9A24D; font-size: 12px; letter-spacing: 2px; }
    .reviews-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 25px; margin-top: 20px; }

    .rate-btn-container { text-align: center; margin-top: 40px; }
    .btn-rate-main { background: transparent; color: var(--varia-dark); padding: 12px 30px; border-radius: 0; border: 2px solid var(--varia-dark); font-weight: 700; transition: 0.3s; text-transform: uppercase; font-size: 12px; letter-spacing: 1px; }
    .btn-rate-main:hover { background: var(--varia-dark); color: #fff; }

    /* --- Sub-Pages --- */
    .back-btn { 
        display: inline-flex; align-items: center; gap: 8px; margin-bottom: 20px; 
        font-weight: 700; color: var(--muted); cursor: pointer; font-size: 12px; text-transform: uppercase; letter-spacing: 1px;
        background: transparent; padding: 10px 0; 
        border: none; z-index: 100; position: relative;
    }
    .back-btn:hover { color: var(--varia-gold); transform: translateX(5px); }
    .back-btn i { transform: rotate(180deg); }
    
    .pd-container { display: grid; grid-template-columns: 1fr 1fr; gap: 40px; margin-top: 20px; }
    .pd-main-img { width: 100%; aspect-ratio: 4/5; object-fit: cover; border-radius: 4px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
    .pd-thumbs { display: flex; gap: 10px; overflow-x: auto; padding-top: 15px; }
    .pd-thumb { width: 70px; height: 70px; border-radius: 4px; border: 1px solid #ddd; object-fit: cover; cursor: pointer; opacity: 0.6; }
    .pd-thumb.active { opacity: 1; border-color: var(--varia-gold); }
    .pd-title { font-size: 32px; font-family: 'Cinzel', serif; margin: 0 0 10px; color: var(--text); }
    .pd-price { font-size: 24px; color: var(--varia-gold); margin-bottom: 25px; font-weight: 400; }
    /* LTR: Border Left */
    .pd-desc-box { background: #fff; padding: 30px; border-radius: 4px; border-left: 3px solid var(--varia-gold); line-height: 1.9; font-size: 15px; color: #555; }
    
    /* Professional Form Styling */
    .checkout-form { background: #fff; border-radius: 4px; padding: 40px; border: 1px solid var(--stroke); box-shadow: 0 10px 40px rgba(0,0,0,0.02); }
    .form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
    @media (max-width: 768px) { .form-grid { grid-template-columns: 1fr; } }
    
    .form-group { margin-bottom: 20px; }
    .form-label { display: block; margin-bottom: 8px; font-size: 13px; font-weight: 700; color: var(--varia-dark); text-transform: uppercase; letter-spacing: 0.5px; }
    
    .form-input { 
        width: 100%; padding: 14px 16px; background: #fafafa; border: 1px solid var(--stroke); 
        border-radius: 8px; color: var(--text); font-family: 'Montserrat', sans-serif; 
        font-size: 15px; transition: 0.3s; min-height: 50px; 
    }
    .form-input:focus { border-color: var(--varia-gold); box-shadow: 0 0 0 3px rgba(86, 3, 25, 0.05); background: #fff; }
    textarea.form-input { min-height: 120px; resize: vertical; }

    /* Footer */
    .main-footer { background-color: #560319; color: #fff; padding: 80px 0 30px; margin-top: 60px; border-top: 3px solid #7A1F3D; }
    /* Centered Footer */
    .footer-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 50px; border-bottom: 1px solid rgba(255,255,255,0.1); padding-bottom: 50px; text-align: center; }
    
    .footer-brand h2 { color: #fff; }
    .footer-brand .footer-desc { text-align: center; margin: 0 auto 20px; max-width: 300px; }
    .footer-socials { justify-content: center; gap: 15px; }

    .footer-links { padding-left: 0; }
    .footer-links li { display: flex; justify-content: center; margin-bottom: 10px; }
    .footer-links a { color: rgba(255,255,255,0.8); }
    .footer-links a:hover { color: #fff; transform: translateY(-2px); }
    
    /* Bigger Social Icons */
    .footer-socials a { 
        width: 55px; height: 55px; background: rgba(255,255,255,0.08); 
        display: flex; align-items: center; justify-content: center; 
        border-radius: 14px; color: #fff; border: 1px solid rgba(255,255,255,0.15); 
        font-size: 26px; transition: all 0.3s ease;
    }
    .footer-socials a:hover { border-color: #fff; background: rgba(255,255,255,0.15); transform: translateY(-3px); }
    
    .footer-title { color: #fff; text-transform: uppercase; letter-spacing: 1px; font-size: 14px; position: relative; padding-bottom: 15px; margin-bottom: 25px; }
    .footer-title::after { background: #fff; left: 50%; transform: translateX(-50%); width: 40px; height: 2px; position: absolute; bottom: 0; content: ''; }

    /* Contact Page Grid - Centered */
    .contact-page-grid { 
        display: flex; 
        justify-content: center; 
        flex-wrap: wrap; 
        gap: 20px; 
        margin-bottom: 40px; 
    }
    .cp-card { 
        background: #fff; border: 1px solid var(--stroke); border-radius: var(--radius); 
        padding: 30px 20px; text-align: center; transition: 0.3s; cursor: pointer; 
        text-decoration: none; color: var(--varia-dark); display: flex; flex-direction: column; 
        align-items: center; box-shadow: 0 4px 10px rgba(0,0,0,0.03); 
        flex: 1; min-width: 280px; max-width: 400px; 
    }
    .cp-card:hover { transform: translateY(-5px); border-color: var(--varia-gold); box-shadow: 0 10px 20px rgba(0,0,0,0.08); }
    .cp-icon { width: 65px; height: 65px; background: var(--varia-white); border-radius: 50%; display: grid; place-items: center; font-size: 28px; color: var(--varia-gold); margin-bottom: 15px; border: 1px solid var(--stroke); transition: 0.3s; }
    .cp-card:hover .cp-icon { background: var(--varia-gold); color: #fff; box-shadow: 0 5px 15px rgba(201, 162, 77, 0.3); }
    .cp-title { font-weight: 800; font-size: 18px; margin-bottom: 5px; }
    .cp-val { font-size: 15px; color: var(--muted); direction: ltr; font-weight: 600; }
    
    /* Footer Contact List */
    .footer-contact-list { list-style: none; padding: 0; margin: 0; }
    .footer-contact-list li { 
        display: flex; align-items: center; justify-content: center; /* Centered */
        gap: 12px; margin-bottom: 15px; color: rgba(255,255,255,0.8); font-size: 14px; 
    }
    .footer-contact-list i { color: #fff; font-size: 18px; }

    /* Footer Bottom - Centered */
    .footer-bottom { 
        border-top: 1px solid rgba(255,255,255,0.1); 
        padding-top: 30px; 
        display: flex; 
        flex-direction: column; 
        justify-content: center; 
        align-items: center; 
        gap: 15px; 
        text-align: center; 
    }
    .payment-badge { display: inline-flex; align-items: center; gap: 10px; background: rgba(255,255,255,0.05); padding: 10px 20px; border-radius: 10px; font-size: 14px; color: #d7ccc8; border: 1px solid rgba(255,255,255,0.08); }

    /* Mobile */
    @media (max-width: 768px) {
      .container { width: 95vw; padding: 0 10px; }
      header { height: auto !important; padding: 15px 0 !important; position: relative !important; display: block !important; }
      .header-inner { flex-direction: column !important; gap: 15px !important; }
      .brand { position: static !important; transform: none !important; }
      .brand h1 { font-size: 28px; } 
      .brand span { font-size: 10px !important; }
      .header-contact-icons { display: flex !important; gap: 20px !important; }
      .section-menu-wrapper { top: 0 !important; position: sticky !important; z-index: 1000; box-shadow: 0 4px 15px rgba(0,0,0,0.05); }
      .hero-slider-container { height: 400px; margin-bottom: 25px; }
      /* LTR Mobile Align */
      .slide-content { padding: 20px; text-align: center; right: 0; left: 0; margin: auto; bottom: 40px; width: 100%; background: linear-gradient(to top, rgba(0,0,0,0.8), transparent); }
      .slide-title { font-size: 24px; color: #fff; }
      .slide-desc { color: #eee; }
      .products-grid { grid-template-columns: 1fr; gap: 20px; }
      .pd-container { grid-template-columns: 1fr; }
      .order-container { grid-template-columns: 1fr; }
      .footer-grid { text-align: center; }
      .footer-title::after { left: 50%; transform: translateX(-50%); }
      #page-product .container, #page-order .container { padding-top: 20px; padding-bottom: 90px; }
      
      .main-slogan { font-size: 24px; padding: 5px; color: #fff; }
      #slogan-sub { font-size: 11px; margin-top: 5px; color: #eee; }
    }
    
    @media (max-width: 380px) {
        .main-slogan { font-size: 20px; }
        .slide-title { font-size: 18px; }
        .slide-desc { font-size: 11px; }
        .brand h1 { font-size: 24px; }
    }
  </style>
</head>
<body>

  <div class="announcement-bar">‚ú® -20% SUR LES PACKS MARIAGE CE MOIS-CI - R√âSERVEZ MAINTENANT ‚ú®</div>

  <header>
    <div class="container header-inner">
      <!-- Centered Brand -->
      <a href="javascript:void(0)" onclick="goBack()" class="brand">
        <h1>A&I</h1>
        <span>PRODUCTION</span>
      </a>
      <div class="header-contact-icons">
        <a href="tel:+212770555073" title="Appelez-nous"><i class="fa-solid fa-headset"></i></a>
        <a href="https://wa.me/212770555073"><i class="fa-brands fa-whatsapp"></i></a>
        <a href="mailto:ai.prod.media@gmail.com"><i class="fa-regular fa-envelope"></i></a>
      </div>
    </div>
  </header>

  <div class="section-menu-wrapper" id="menu-wrapper">
    <div class="section-menu">
      <button onclick="filterCategory('all')" class="menu-item active">Tout</button>
      <button onclick="filterCategory('Mariages')" class="menu-item">Mariages</button>
      <button onclick="filterCategory('Shootings')" class="menu-item">Shootings</button>
      <button onclick="filterCategory('Commercial')" class="menu-item">Commercial</button>
      <button onclick="filterCategory('√âv√©nements')" class="menu-item">√âv√©nements</button>
    </div>
  </div>

  <!-- HOME PAGE -->
  <div id="page-home" class="page active">
    <div class="hero-slider-container">
        <div class="hero-overlay-text">
          <div class="main-slogan" id="hero-slogan">A&I PRODUCTION</div>
          <div id="slogan-sub">IMMORTALISER VOS MOMENTS, CR√âER VOS SOUVENIRS</div>
        </div>

        <!-- Mariages -->
        <div class="hero-slide active" data-cat="Mariages" style="background-image: url('https://images.unsplash.com/photo-1519741497674-611481863552?auto=format&fit=crop&w=1200&q=80');">
          <div class="slide-content"><div class="slide-title">Mariages de R√™ve</div><div class="slide-desc">Films cin√©matographiques et albums de luxe pour immortaliser votre grand jour.</div></div>
        </div>

        <!-- Shootings (Studio Pro) -->
        <div class="hero-slide" data-cat="Shootings" style="background-image: url('https://images.unsplash.com/photo-1527011046414-4781f1f94f8c?auto=format&fit=crop&w=1200&q=80');">
          <div class="slide-content"><div class="slide-title">S√©ances Portrait Studio</div><div class="slide-desc">Des portraits artistiques r√©alis√©s dans un studio professionnel √©quip√©.</div></div>
        </div>

        <!-- Commercial (Packshot) -->
        <div class="hero-slide" data-cat="Commercial" style="background-image: url('https://images.unsplash.com/photo-1488998427799-e3362cec87c3?auto=format&fit=crop&w=1200&q=80');">
          <div class="slide-content"><div class="slide-title">Photographie Commerciale</div><div class="slide-desc">Mettez en valeur vos produits avec des visuels Packshot haute d√©finition.</div></div>
        </div>
        
        <div class="slider-indicators" id="slider-indicators"></div>
    </div>

    <div class="container">
      <div class="section-title">Nos Prestations</div>
      <div id="products-container" class="products-grid"></div>
    </div>
    
    <section id="reviews-section" class="reviews-section">
      <div class="container">
         <div class="section-title" style="justify-content: center;">T√©moignages Clients</div>
         <p style="text-align:center; color:var(--muted); margin-bottom: 30px;">La confiance de plus de 500 clients et mari√©s</p>
         
         <div class="reviews-slider-container" id="reviews-container-div"></div>
         
         <div class="rate-btn-container" style="display:flex; justify-content:center; gap:15px; flex-wrap:wrap;">
            <button class="btn-rate-main" onclick="openRatePage()"><i class="fa-solid fa-star"></i> Noter l'exp√©rience</button>
            <button class="btn-rate-main" onclick="openReviewsPage()">Voir tous les avis</button>
         </div>
      </div>
    </section>
  </div>

  <!-- SERVICE DETAIL PAGE -->
  <div id="page-product" class="page">
    <div class="container">
      <div class="back-btn" onclick="goBack()"><i class="fa-solid fa-arrow-left"></i> Retour</div>
      <div class="pd-container">
        <div class="pd-gallery"><img id="pd-main-img" src="" class="pd-main-img"><div class="pd-thumbs" id="pd-thumbs"></div></div>
        <div class="pd-info">
          <div class="pd-cat" id="pd-cat"></div>
          <h1 class="pd-title" id="pd-title"></h1>
          <div class="pd-price" id="pd-price"></div>
          <button id="pd-add-btn" class="btn-add">R√âSERVER CE PACK</button>
          <div class="pd-desc-box"><div class="pd-desc" id="pd-desc"></div></div>
          <div id="pd-video-section" style="display:none; margin-top:20px;"><div id="pd-video-container" class="pd-video-box"></div></div>
        </div>
      </div>

      <div class="features-grid" style="margin-top: 50px; padding-top: 30px; border-top: 1px solid var(--stroke);">
          <div class="feature-card"><div class="icon-box"><i class="fa-solid fa-camera"></i></div><h3>√âquipement Pro</h3></div>
          <div class="feature-card"><div class="icon-box"><i class="fa-solid fa-film"></i></div><h3>Montage Cin√©ma</h3></div>
          <div class="feature-card"><div class="icon-box"><i class="fa-solid fa-clock"></i></div><h3>Respect des D√©lais</h3></div>
          <div class="feature-card"><div class="icon-box"><i class="fa-solid fa-photo-film"></i></div><h3>Qualit√© 4K/8K</h3></div>
      </div>
    </div>
  </div>

  <!-- BOOKING PAGE -->
  <div id="page-order" class="page">
    <div class="container">
      <div class="back-btn" onclick="goBack()"><i class="fa-solid fa-arrow-left"></i> Annuler</div>
      <div class="section-title">R√©server une S√©ance</div>
      <div class="order-container">
        <div class="order-summary">
           <img id="order-product-img" class="order-img">
           <div id="order-product-name" style="font-weight:700;margin-bottom:5px;color:var(--varia-dark);"></div>
           <div id="order-product-price" style="color:var(--varia-gold);font-weight:700;margin-bottom:15px;"></div>
           <div style="border-top:1px dashed #ddd; padding-top:15px; margin-top:15px;">
               <p style="font-size:14px; color:#555; margin-bottom:12px; font-weight: 600;">Question rapide ?</p>
               <!-- Updated WhatsApp Button: Bigger & Bolder -->
               <a id="order-wa-btn" href="#" target="_blank" class="btn-checkout" style="background:#25D366 !important; color:white; display:flex; justify-content:center; align-items:center; gap:10px; padding: 18px 20px; font-size: 18px; border-radius: 50px; box-shadow: 0 4px 15px rgba(37, 211, 102, 0.4);">
                   <i class="fa-brands fa-whatsapp" style="font-size:26px;"></i> Discuter sur WhatsApp
               </a>
           </div>
        </div>
        <form id="direct-order-form" action="https://formsubmit.co/ai.prod.media@gmail.com" method="POST" class="checkout-form">
          <h3 style="margin:0 0 20px; font-size:18px; color:var(--varia-gold); border-bottom:1px solid #eee; padding-bottom:10px;">Formulaire de R√©servation</h3>
          <input type="hidden" name="_subject" value="Nouvelle r√©servation A&I">
          <input type="hidden" name="_next" id="direct-order-next-url" value=""> 
          
          <div class="form-grid">
              <div class="form-group"><label class="form-label">Nom Complet</label><input type="text" name="name" class="form-input" required placeholder="Votre nom et pr√©nom"></div>
              <div class="form-group"><label class="form-label">T√©l√©phone</label><input type="tel" name="phone" class="form-input" required placeholder="06 XX XX XX XX"></div>
          </div>
          
          <div class="form-grid">
              <div class="form-group"><label class="form-label">Email (Recommand√©)</label><input type="email" name="email" class="form-input" placeholder="exemple@gmail.com"></div>
              <div class="form-group"><label class="form-label">Ville / Lieu</label><input type="text" name="location" class="form-input" required placeholder="O√π se d√©roule l'√©v√©nement ?"></div>
          </div>
          
          <div class="form-grid">
              <div class="form-group">
                  <label class="form-label">Type d'√©v√©nement</label>
                  <select name="event_type" class="form-input">
                      <option value="Mariage">Mariage</option>
                      <option value="Shooting">Shooting Portrait</option>
                      <option value="Commercial">Produits / Commercial</option>
                      <option value="Anniversaire">Anniversaire</option>
                      <option value="Autre">Autre</option>
                  </select>
              </div>
              <div class="form-group"><label class="form-label">Date souhait√©e</label><input type="date" name="date" class="form-input" required></div>
          </div>
          
          <div class="form-group"><label class="form-label">D√©tails suppl√©mentaires</label><textarea name="message" class="form-input" rows="4" placeholder="D√©crivez votre besoin : Horaires, style souhait√©, nombre de personnes..."></textarea></div>

          <input type="hidden" name="Service" id="direct-order-details-field">
          
          <button type="submit" class="btn-checkout">Confirmer la Demande</button>
        </form>
      </div>
    </div>
  </div>
  
  <div id="page-rate" class="page"><div class="container"><div class="back-btn" onclick="goBack()"><i class="fa-solid fa-arrow-left"></i> Retour</div><div class="section-title">Partager votre avis</div><form id="rate-form" onsubmit="handleRateSubmit(event)" class="checkout-form"><div class="rate-stars" id="rate-stars" style="text-align:center; font-size:24px; margin-bottom:20px; cursor:pointer;"><i class="fa-solid fa-star" data-val="1"></i><i class="fa-solid fa-star" data-val="2"></i><i class="fa-solid fa-star" data-val="3"></i><i class="fa-solid fa-star" data-val="4"></i><i class="fa-solid fa-star" data-val="5"></i></div><input type="text" id="rate-name" class="form-input" placeholder="Votre Nom"><input type="text" id="rate-city" class="form-input" placeholder="Ville"><textarea id="rate-msg" class="form-input" placeholder="Comment s'est pass√©e votre exp√©rience ?"></textarea><button type="submit" class="btn-checkout">Publier l'avis</button></form></div></div>
  <div id="page-policy" class="page"><div class="container"><div class="back-btn" onclick="goBack()"><i class="fa-solid fa-arrow-left"></i> Retour</div><div class="checkout-form"><div id="policy-content"></div></div></div></div>
  <div id="page-contact" class="page"><div class="container"><div class="back-btn" onclick="goBack()"><i class="fa-solid fa-arrow-left"></i> Retour</div><div class="section-title">Contactez-nous</div><div class="contact-page-grid"><a href="https://wa.me/212770555073" class="cp-card"><div class="cp-icon"><i class="fa-brands fa-whatsapp"></i></div><div class="cp-title">WhatsApp</div></a><a href="mailto:ai.prod.media@gmail.com" class="cp-card"><div class="cp-icon"><i class="fa-regular fa-envelope"></i></div><div class="cp-title">Email</div></a></div></div></div>
  <div id="page-reviews" class="page"><div class="container"><div class="back-btn" onclick="goBack()"><i class="fa-solid fa-arrow-left"></i> Retour</div><div class="section-title">Avis Clients</div><div class="reviews-grid" id="all-reviews-grid"></div></div></div>

  <div id="backToTop" class="back-to-top" onclick="scrollToTop()"><i class="fa-solid fa-arrow-up"></i></div>

  <footer class="main-footer">
    <div class="container">
        <div class="footer-grid">
            <div class="footer-col footer-brand">
                <h2>A&I PRODUCTION</h2>
                <p class="footer-desc">Studio sp√©cialis√© en photographie et cin√©matographie. Nous capturons vos moments avec passion et professionnalisme.</p>
                <div class="footer-socials">
                    <a href="https://www.facebook.com/profile.php?id=61584770147162" target="_blank" class="social-fb"><i class="fa-brands fa-facebook-f"></i></a>
                    <a href="https://www.instagram.com/varia_store_/" target="_blank" class="social-ig"><i class="fa-brands fa-instagram"></i></a>
                    <a href="https://wa.me/212770555073" target="_blank" class="social-wa"><i class="fa-brands fa-whatsapp"></i></a>
                </div>
            </div>
            
            <div class="footer-col">
                <h3 class="footer-title">Navigation</h3>
                <ul class="footer-links">
                    <li><a href="javascript:void(0)" onclick="showPage('home')">Accueil</a></li>
                    <li><a href="javascript:void(0)" onclick="filterCategory('all')">Nos Services</a></li>
                    <li><a href="javascript:void(0)" onclick="openReviewsPage()">Avis Clients</a></li>
                    <li><a href="javascript:void(0)" onclick="openContactPage()">Contact</a></li>
                </ul>
            </div>

            <div class="footer-col">
                <h3 class="footer-title">Informations</h3>
                <ul class="footer-links">
                    <li><a href="javascript:void(0)" onclick="openPolicyPage('delivery')">Conditions de R√©servation</a></li>
                    <li><a href="javascript:void(0)" onclick="openPolicyPage('payment')">Paiement & Tarifs</a></li>
                    <li><a href="javascript:void(0)" onclick="openPolicyPage('return')">D√©lais de Livraison</a></li>
                    <li><a href="javascript:void(0)" onclick="openPolicyPage('privacy')">Confidentialit√©</a></li>
                </ul>
            </div>

            <!-- New Column for Direct Contact Info -->
            <div class="footer-col">
                <h3 class="footer-title">Coordonn√©es</h3>
                <ul class="footer-contact-list">
                    <li><i class="fa-solid fa-location-dot"></i> F√®s - D√©placement partout au Maroc</li>
                    <li><i class="fa-brands fa-whatsapp"></i> +212 770 555 073</li>
                    <li><i class="fa-regular fa-envelope"></i> ai.prod.media@gmail.com</li>
                </ul>
            </div>
        </div>
        
        <div class="footer-bottom">
            <p>¬© 2025 A&I Production. Tous droits r√©serv√©s.</p>
            <div class="payment-badge"><i class="fa-solid fa-money-bill-wave"></i> Paiement √† la livraison / Virement</div>
        </div>
    </div>
  </footer>

  <script>
    const WHATSAPP_NUMBER = "212770555073";
    const THEMES = { 'all': { color: '#560319' } }; 
    let navStack = [];
    
    // --- SERVICES DATA (FRENCH) ---
    const products = [
      { 
          id: 101, 
          title: "Pack Mariage Royal (Vid√©o + Photos)", 
          price: 5500, 
          oldPrice: 6500, 
          cat: "Mariages", 
          img: "https://images.unsplash.com/photo-1511285560982-1351cdeb9821?auto=format&fit=crop&w=800&q=80", 
          video:"", 
          badge:"Best-Seller", 
          desc:"Couverture compl√®te de votre mariage.", 
          longDesc:"‚ú® **Pack Mariage Royal Int√©gral** ‚ú®\n\nNous offrons une couverture professionnelle compl√®te pour votre nuit de noces avec les derni√®res cam√©ras :\n\nüì∏ **Photographie :**\n- Shooting couple (session priv√©e).\n- Photos famille et invit√©s.\n- Nombre illimit√© de photos retouch√©es.\n- Album digital de luxe imprim√©.\n\nüé• **Cin√©matographie (Vid√©o) :**\n- Teaser vid√©o (1 min).\n- Film complet du mariage (Montage cin√©matographique + musique).\n- Tournage en 4K.\n\nüéÅ **Cadeau :** Grand tableau en bois pour les mari√©s.", 
          images: [
              "https://images.unsplash.com/photo-1511285560982-1351cdeb9821?auto=format&fit=crop&w=800&q=80", 
              "https://images.unsplash.com/photo-1519741497674-611481863552?auto=format&fit=crop&w=800&q=80",
              "https://images.unsplash.com/photo-1520854221256-17451cc330e7?auto=format&fit=crop&w=800&q=80"
          ] 
      },
      { 
          id: 102, 
          title: "S√©ance Portrait Ext√©rieur", 
          price: 800, 
          oldPrice: 1200, 
          cat: "Shootings", 
          img: "https://images.unsplash.com/photo-1531746020798-e6953c6e8e04?auto=format&fit=crop&w=800&q=80", 
          video:"", 
          badge:"Offre Sp√©ciale", 
          desc:"2 heures de shooting en nature.", 
          longDesc:"S√©ance photo priv√©e dans un lieu ext√©rieur de votre choix (jardin, plage, m√©dina).\n\n- Dur√©e : 2 heures.\n- 30 photos retouch√©es professionnellement.\n- Livraison de toutes les photos brutes.\n- Assistance pour les poses (Posing).", 
          images: [
              "https://images.unsplash.com/photo-1531746020798-e6953c6e8e04?auto=format&fit=crop&w=800&q=80",
              "https://images.unsplash.com/photo-1494790108377-be9c29b29330?auto=format&fit=crop&w=800&q=80"
          ] 
      },
      { 
          id: 103, 
          title: "Packshot Produits Pro", 
          price: 1500, 
          cat: "Commercial", 
          img: "https://images.unsplash.com/photo-1505740420928-5e560c06d30e?auto=format&fit=crop&w=800&q=80", 
          video:"", 
          badge:"Pour Entreprises", 
          desc:"10 produits sur fond blanc.", 
          longDesc:"Service de photographie de produits pour e-commerce et catalogues.\n\n- Shooting de 10 produits.\n- Fond blanc pur (White Background).\n- Photos Lifestyle suppl√©mentaires.\n- Haute r√©solution et d√©tails nets.", 
          images: [
              "https://images.unsplash.com/photo-1523275335684-37898b6baf30?auto=format&fit=crop&w=800&q=80",
              "https://images.unsplash.com/photo-1505740420928-5e560c06d30e?auto=format&fit=crop&w=800&q=80"
          ] 
      },
      { 
          id: 104, 
          title: "Couverture Anniversaire", 
          price: 2000, 
          cat: "√âv√©nements", 
          img: "https://images.unsplash.com/photo-1530103862676-de3c9da59af7?auto=format&fit=crop&w=800&q=80", 
          video:"", 
          badge:"", 
          desc:"Photos et vid√©o des meilleurs moments.", 
          longDesc:"Nous documentons la joie des anniversaires et les r√©unions de famille.\n\n- Couverture de 4 heures.\n- Photo et Vid√©o.\n- Montage vid√©o des moments forts (Highlight).\n- Livraison sous une semaine.", 
          images: [
              "https://images.unsplash.com/photo-1530103862676-de3c9da59af7?auto=format&fit=crop&w=800&q=80",
              "https://images.unsplash.com/photo-1464349153735-7db50ed83c84?auto=format&fit=crop&w=800&q=80"
          ] 
      }
    ];

    const reviewsData = [
      { name: "Houda & Mohamed", city: "Rabat", msg: "Merci infiniment √† l'√©quipe A&I, les photos du mariage sont magnifiques ! Service tr√®s pro.", stars: 5, avatar: "https://images.unsplash.com/photo-1494790108377-be9c29b29330?auto=format&fit=crop&w=100&q=80" },
      { name: "Karim Bennani", city: "Casablanca", msg: "J'ai fait un shooting pour mon profil LinkedIn, le r√©sultat est impressionnant.", stars: 5, avatar: "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?auto=format&fit=crop&w=100&q=80" },
      { name: "Leila Tazi", city: "Marrakech", msg: "Les photos produits ont boost√© les ventes de ma boutique. Merci pour la ponctualit√©.", stars: 5, avatar: "https://images.unsplash.com/photo-1438761681033-6461ffad8d80?auto=format&fit=crop&w=100&q=80" }
    ];

    const policies = {
        delivery: { 
            title: "Conditions de R√©servation", 
            content: `
            <div class="policy-block">
                <div class="policy-icon"><i class="fa-solid fa-handshake-simple"></i></div>
                <p>A&I Production s'engage √† fournir des services de qualit√© internationale. Voici nos conditions :</p>
                <ul class="policy-list">
                    <li><strong>Confirmation :</strong> La r√©servation n'est confirm√©e qu'apr√®s signature du contrat et paiement de l'avance. Premier arriv√©, premier servi.</li>
                    <li><strong>Port√©e du travail :</strong> L'√©quipe s'engage √† √™tre pr√©sente √† l'heure et au lieu convenus. Les heures suppl√©mentaires non pr√©vues sont factur√©es.</li>
                    <li><strong>D√©placement :</strong> Inclus sur F√®s. Hors F√®s, les frais de transport et d'h√©bergement sont √† la charge du client.</li>
                    <li><strong>Annulation :</strong> L'avance n'est pas remboursable en cas d'annulation par le client.</li>
                </ul>
            </div>` 
        },
        payment: { 
            title: "Paiement et Avances", 
            content: `
            <div class="policy-block">
                <div class="policy-icon"><i class="fa-solid fa-file-invoice"></i></div>
                <p>Structure de paiement claire :</p>
                <ul class="policy-list">
                    <li><strong>Avance (40%) :</strong> √Ä la signature du contrat pour bloquer la date.</li>
                    <li><strong>Jour J (40%) :</strong> √Ä r√©gler le jour de l'√©v√©nement avant le d√©but.</li>
                    <li><strong>Solde (20%) :</strong> √Ä la livraison finale du travail.</li>
                    <li><strong>Modes :</strong> Virement bancaire ou Esp√®ces contre re√ßu.</li>
                </ul>
            </div>` 
        },
        return: { 
            title: "Livraison et Montage", 
            content: `
            <div class="policy-block">
                <div class="policy-icon"><i class="fa-solid fa-film"></i></div>
                <p>La post-production est le c≈ìur de notre art :</p>
                <ul class="policy-list">
                    <li><strong>D√©lais :</strong> 4 √† 8 semaines selon la saison et le projet.</li>
                    <li><strong>Format :</strong> Livraison via Galerie Priv√©e Cloud (Haute R√©solution) ou sur Disque Dur fourni par le client.</li>
                    <li><strong>Retouches :</strong> 1 retour de modifications autoris√© sur le montage vid√©o dans les 7 jours suivant la livraison de la version 1.</li>
                    <li><strong>RAW :</strong> Nous ne livrons pas les fichiers bruts (RAW), sauf achat de licence sp√©cifique.</li>
                </ul>
            </div>` 
        },
        privacy: { 
            title: "Droits et Confidentialit√©", 
            content: `
            <div class="policy-block">
                <div class="policy-icon"><i class="fa-solid fa-copyright"></i></div>
                <p>Respect des droits d'auteur et d'image :</p>
                <ul class="policy-list">
                    <li><strong>Droits Studio :</strong> A&I conserve les droits d'auteur et peut utiliser des extraits pour son portfolio (sauf accord contraire).</li>
                    <li><strong>Usage Client :</strong> Usage personnel non commercial autoris√©.</li>
                    <li><strong>Confidentialit√© :</strong> Option "Priv√©" disponible sur demande (peut inclure des frais de compensation marketing).</li>
                </ul>
            </div>` 
        },
        support: { 
            title: "Support et Archivage", 
            content: `
            <div class="policy-block">
                <div class="policy-icon"><i class="fa-solid fa-database"></i></div>
                <ul class="policy-list">
                    <li><strong>Archivage :</strong> Nous gardons une copie de s√©curit√© pendant 6 mois apr√®s livraison.</li>
                    <li><strong>Service Client :</strong> Disponible 7j/7 de 10h √† 20h via WhatsApp.</li>
                </ul>
            </div>` 
        }
    };

    function init() {
        handleRouting();
        window.addEventListener('hashchange', handleRouting);
        renderProducts(products); 
        renderReviews(); 
        startReviewsAutoScroll(); 
        startSlider();
        
        document.querySelectorAll('#rate-stars i').forEach(star => {
            star.addEventListener('click', function() {
                selectedRating = this.getAttribute('data-val');
                document.querySelectorAll('#rate-stars i').forEach(s => {
                    s.style.color = s.getAttribute('data-val') <= selectedRating ? '#fbc02d' : '#ccc';
                });
            });
        });
        const nextInputs = document.querySelectorAll('input[name="_next"]');
        nextInputs.forEach(input => input.value = window.location.href);
    }

    function handleRouting() {
        const hash = window.location.hash.substring(1);
        const params = new URLSearchParams(hash);
        const pid = params.get('id');
        const pg = params.get('page');

        if(pid) {
            const p = products.find(x => x.id == pid);
            if(p) openProductPage(p.id, false);
        } else if(pg) {
            showPage(pg, false);
        } else {
            showPage('home', false);
        }
    }

    function showPage(pageId, updateUrl = true) {
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
        const target = document.getElementById('page-' + pageId);
        if(target) target.classList.add('active');
        window.scrollTo(0,0);
        const menu = document.getElementById('menu-wrapper');
        if(['home'].includes(pageId)) menu.style.display = 'flex'; else menu.style.display = 'none';
        if(updateUrl) updateURL(pageId === 'home' ? 'home' : pageId);
    }

    function updateURL(type, id = null) {
        try {
            if (type === 'product' && id) window.location.hash = `id=${id}`;
            else if (type !== 'home') window.location.hash = `page=${type}`;
            else history.replaceState(null, null, ' ');
        } catch(e) {}
    }

    function filterCategory(cat) {
        showPage('home');
        const filtered = cat === 'all' ? products : products.filter(p => p.cat === cat);
        renderProducts(filtered);
        document.querySelectorAll('.menu-item').forEach(b => {
             // Logic to active class
             if (b.innerText.includes(cat) || (cat === 'all' && b.innerText === 'Tout')) {
                 b.classList.add('active');
             } else {
                 b.classList.remove('active');
             }
        });
    }

    function renderProducts(list) {
        const container = document.getElementById('products-container');
        container.innerHTML = '';
        list.forEach(p => {
            const div = document.createElement('div');
            div.className = 'product-card';
            div.onclick = (e) => { if(!e.target.closest('.btn-add')) openProductPage(p.id); };
            
            let priceDisplay = `<div class="p-price">${p.price} DH</div>`;
            if (p.title.includes("Mariage")) priceDisplay = `<div class="p-price">√Ä partir de ${p.price} DH</div>`;
            
            div.innerHTML = `<div class="p-img-box"><img src="${p.img}" class="p-img"> ${p.badge ? `<span class="p-badge">${p.badge}</span>` : ''}</div><div class="p-details"><div class="p-cat">${p.cat}</div><h3 class="p-title">${p.title}</h3>${priceDisplay}<button class="btn-add" onclick="buyNow(${p.id})">D√©tails & R√©servation</button></div>`;
            container.appendChild(div);
        });
    }

    function openProductPage(id, updateUrl=true) {
        trackNavigation();
        const p = products.find(x => x.id == id);
        if(!p) return;
        document.getElementById('pd-main-img').src = p.img;
        document.getElementById('pd-title').innerText = p.title;
        document.getElementById('pd-price').innerText = (p.title.includes("Mariage") ? "√Ä partir de " : "") + p.price + ' DH';
        document.getElementById('pd-desc').innerText = p.longDesc || p.desc;
        document.getElementById('pd-add-btn').onclick = () => buyNow(p.id);
        
        const thumbs = document.getElementById('pd-thumbs'); thumbs.innerHTML = '';
        (p.images || [p.img]).forEach(src => {
            const img = document.createElement('img'); img.className = 'pd-thumb'; img.src = src;
            img.onclick = () => { document.getElementById('pd-main-img').src = src; document.querySelectorAll('.pd-thumb').forEach(t=>t.classList.remove('active')); img.classList.add('active'); };
            thumbs.appendChild(img);
        });
        
        const vidBox = document.getElementById('pd-video-container'); 
        const vidSec = document.getElementById('pd-video-section');
        vidSec.style.display = 'none'; // Default hidden unless video exists
        
        showPage('product', false);
        if(updateUrl) window.location.hash = `id=${id}`;
    }

    function buyNow(id) {
        trackNavigation();
        const p = products.find(x => x.id == id);
        if(!p) return;
        document.getElementById('order-product-name').innerText = p.title;
        document.getElementById('order-product-price').innerText = (p.title.includes("Mariage") ? "√Ä partir de " : "") + p.price + ' DH';
        document.getElementById('order-product-img').src = p.img;
        
        const detailsField = document.getElementById('direct-order-details-field');
        if(detailsField) detailsField.value = `Service : ${p.title} - Prix Approx : ${p.price}`;
        
        const waMsg = `Bonjour, je suis int√©ress√© par le service : ${p.title}`;
        const waBtn = document.getElementById('order-wa-btn');
        if(waBtn) waBtn.href = `https://wa.me/${WHATSAPP_NUMBER}?text=${encodeURIComponent(waMsg)}`;

        showPage('order', false);
        updateURL('order');
    }

    function trackNavigation() {
        const active = document.querySelector('.page.active');
        const pid = active ? active.id.replace('page-', '') : 'home';
        navStack.push({ page: pid, scroll: window.scrollY });
    }

    function goBack() {
        if(navStack.length > 0) { window.history.back(); navStack.pop(); } else { updateURL('home'); showPage('home'); }
    }
    
    function renderReviews() {
        const container = document.getElementById('reviews-container-div'); container.innerHTML = ''; 
        const track = document.createElement('div'); track.className = 'reviews-track';
        reviewsData.forEach(r => {
            const d = document.createElement('div'); d.className = 'review-card';
            let stars = ''; for(let i=0;i<5;i++) stars += i<r.stars ? '<i class="fa-solid fa-star"></i>' : '<i class="fa-regular fa-star"></i>';
            d.innerHTML = `<div class="review-header"><img src="${r.avatar}" class="user-avatar"><div class="user-info"><span class="user-name">${r.name}</span><span class="user-city"><i class="fa-solid fa-location-dot" style="color:var(--varia-gold);"></i> ${r.city}</span></div></div><div class="review-body">${r.msg}</div><div class="stars">${stars}</div>`;
            track.appendChild(d);
        });
        container.appendChild(track);
    }

    function startReviewsAutoScroll() {
        const container = document.getElementById('reviews-container-div');
        setInterval(() => {
            const cardWidth = 320; 
            if(container.scrollLeft + container.clientWidth >= container.scrollWidth - 10) { container.scrollTo({left:0, behavior:'smooth'}); } 
            else { container.scrollBy({left: cardWidth, behavior:'smooth'}); }
        }, 5000);
    }
    
    function openRatePage() { trackNavigation(); updateURL('rate'); showPage('rate', false); }
    function openContactPage() { trackNavigation(); updateURL('contact'); showPage('contact', false); }
    function openReviewsPage() { trackNavigation(); updateURL('reviews'); showPage('reviews', false); }
    
    function openPolicyPage(t) { 
        trackNavigation(); updateURL('policy');
        const p = policies[t];
        if(p) { document.getElementById('policy-content').innerHTML = `<div style="text-align: center; margin-bottom: 20px;"><h1 style="color:var(--varia-gold); margin-bottom: 10px;">${p.title}</h1><div style="width: 50px; height: 3px; background: var(--varia-gold); margin: 0 auto;"></div></div>${p.content}<div style="text-align:center;margin-top:30px;"><button onclick="goBack()" class="btn-rate-main" style="min-width: 150px;">J'ai compris</button></div>`; showPage('policy', false); }
    }

    function handleRateSubmit(e) { e.preventDefault(); alert('Merci ! Votre avis a √©t√© envoy√©.'); goBack(); }

    let currentSlide = 0;
    function startSlider() {
        const slides = document.querySelectorAll('.hero-slide'); const dots = document.getElementById('slider-indicators'); dots.innerHTML = '';
        slides.forEach((_,i) => { const d = document.createElement('div'); d.className = i===0 ? 'indicator-dot active' : 'indicator-dot'; d.onclick = () => setSlide(i); dots.appendChild(d); });
        setInterval(() => setSlide((currentSlide + 1) % slides.length), 5000);
    }
    function setSlide(n) {
        const slides = document.querySelectorAll('.hero-slide'); const dots = document.querySelectorAll('.indicator-dot');
        slides[currentSlide].classList.remove('active'); dots[currentSlide].classList.remove('active');
        currentSlide = n; slides[currentSlide].classList.add('active'); dots[currentSlide].classList.add('active');
        const cat = slides[currentSlide].getAttribute('data-cat');
        updateSlideColors(slides[currentSlide], cat);
    }

    function updateSlideColors(slide, cat) {
        const goldColor = '#560319';
        
        const title = slide.querySelector('.slide-title');
        const desc = slide.querySelector('.slide-desc');
        const slogan = document.getElementById('hero-slogan');
        const sub = document.getElementById('slogan-sub');
        
        if(title) title.style.color = "#fff";
        if(desc) desc.style.color = "#eee";
        
        if(slogan) {
            slogan.style.color = "#fff"; 
            slogan.style.textShadow = `0 5px 25px rgba(86, 3, 25, 0.95)`; 
        }
        if(sub) { 
            sub.style.color = "#fff"; 
            sub.style.textShadow = `0 2px 10px rgba(86, 3, 25, 1)`; 
        }
    }
    
    function handleSlideClick(cat) { filterCategory(cat); }

    // Start
    init();
    
    const backToTopBtn = document.getElementById('backToTop');
    window.addEventListener('scroll', () => { if (window.scrollY > 300) backToTopBtn.classList.add('visible'); else backToTopBtn.classList.remove('visible'); });
    function scrollToTop() { window.scrollTo({ top: 0, behavior: 'smooth' }); }
  </script>
</body>
</html>
